/*! For license information please see 76b5bcb0.b8fcfe90.js.LICENSE.txt */
(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8983],{4137:function(e,n,t){"use strict";t.d(n,{Zo:function(){return c},kt:function(){return m}});var r=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var u=r.createContext({}),s=function(e){var n=r.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},c=function(e){var n=s(e.components);return r.createElement(u.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,a=e.originalType,u=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=s(t),m=o,f=d["".concat(u,".").concat(m)]||d[m]||p[m]||a;return t?r.createElement(f,i(i({ref:n},c),{},{components:t})):r.createElement(f,i({ref:n},c))}));function m(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=t.length,i=new Array(a);i[0]=d;var l={};for(var u in n)hasOwnProperty.call(n,u)&&(l[u]=n[u]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var s=2;s<a;s++)i[s]=t[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},8448:function(e,n,t){"use strict";var r=t(7294);n.Z=function(e){var n=e.children,t=e.hidden,o=e.className;return r.createElement("div",{role:"tabpanel",hidden:t,className:o},n)}},7225:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var r=t(7462),o=t(7294),a=t(1048),i=t(2713);var l=function(){var e=(0,o.useContext)(i.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e},u=t(1297),s=t(6010),c="tabItem_vU9c";function p(e){var n,t,a,i=e.lazy,p=e.block,d=e.defaultValue,m=e.values,f=e.groupId,y=e.className,b=o.Children.map(e.children,(function(e){if((0,o.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),v=null!=m?m:b.map((function(e){var n=e.props;return{value:n.value,label:n.label,attributes:n.attributes}})),h=(0,u.lx)(v,(function(e,n){return e.value===n.value}));if(h.length>0)throw new Error('Docusaurus error: Duplicate values "'+h.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var g=null===d?d:null!=(n=null!=d?d:null==(t=b.find((function(e){return e.props.default})))?void 0:t.props.value)?n:null==(a=b[0])?void 0:a.props.value;if(null!==g&&!v.some((function(e){return e.value===g})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+g+'" but none of its children has the corresponding value. Available values are: '+v.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var k=l(),P=k.tabGroupChoices,T=k.setTabGroupChoices,w=(0,o.useState)(g),O=w[0],S=w[1],q=[],N=(0,u.o5)().blockElementScrollPositionUntilNextRender;if(null!=f){var E=P[f];null!=E&&E!==O&&v.some((function(e){return e.value===E}))&&S(E)}var C=function(e){var n=e.currentTarget,t=q.indexOf(n),r=v[t].value;r!==O&&(N(n),S(r),null!=f&&T(f,r))},x=function(e){var n,t=null;switch(e.key){case"ArrowRight":var r=q.indexOf(e.currentTarget)+1;t=q[r]||q[0];break;case"ArrowLeft":var o=q.indexOf(e.currentTarget)-1;t=q[o]||q[q.length-1]}null==(n=t)||n.focus()};return o.createElement("div",{className:"tabs-container"},o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":p},y)},v.map((function(e){var n=e.value,t=e.label,a=e.attributes;return o.createElement("li",(0,r.Z)({role:"tab",tabIndex:O===n?0:-1,"aria-selected":O===n,key:n,ref:function(e){return q.push(e)},onKeyDown:x,onFocus:C,onClick:C},a,{className:(0,s.Z)("tabs__item",c,null==a?void 0:a.className,{"tabs__item--active":O===n})}),null!=t?t:n)}))),i?(0,o.cloneElement)(b.filter((function(e){return e.props.value===O}))[0],{className:"margin-vert--md"}):o.createElement("div",{className:"margin-vert--md"},b.map((function(e,n){return(0,o.cloneElement)(e,{key:n,hidden:e.props.value!==O})}))))}function d(e){var n=(0,a.Z)();return o.createElement(p,(0,r.Z)({key:String(n)},e))}},6261:function(e,n,t){"use strict";var r=t(7294),o=t(4184),a=t.n(o);n.Z=function(e){var n=e.children,t=e.classNames,o=e.fill,i=e.icon,l=e.type,u=null;switch(l){case"danger":case"warning":u="alert-triangle";break;case"success":u="check-circle";break;default:u="info"}return r.createElement("div",{className:a()(t,"alert","alert--"+l,{"alert--fill":o,"alert--icon":!1!==i}),role:"alert"},!1!==i&&r.createElement("i",{className:a()("feather","icon-"+(i||u))}),n)}},3452:function(e,n,t){"use strict";t.r(n),t.d(n,{frontMatter:function(){return c},contentTitle:function(){return p},metadata:function(){return d},toc:function(){return m},default:function(){return y}});var r=t(7462),o=t(3366),a=(t(7294),t(4137)),i=t(6261),l=t(7225),u=t(8448),s=["components"],c={title:"Querying Pinot",sidebar_label:"query-pinot",description:"Ways to query Pinot",draft:!0},p=void 0,d={unversionedId:"user-guide/query-pinot",id:"user-guide/query-pinot",title:"Querying Pinot",description:"Ways to query Pinot",source:"@site/docs/user-guide/query-pinot.md",sourceDirName:"user-guide",slug:"/user-guide/query-pinot",permalink:"/docs/user-guide/query-pinot",editUrl:"https://github.com/apache/pinot/edit/master/website/docs/user-guide/query-pinot.md",tags:[],version:"current",frontMatter:{title:"Querying Pinot",sidebar_label:"query-pinot",description:"Ways to query Pinot",draft:!0}},m=[{value:"REST API on the Broker",id:"rest-api-on-the-broker",children:[],level:2},{value:"Query Console",id:"query-console",children:[{value:"pinot-admin",id:"pinot-admin",children:[],level:3}],level:2},{value:"Pinot Clients",id:"pinot-clients",children:[],level:2}],f={toc:m};function y(e){var n=e.components,c=(0,o.Z)(e,s);return(0,a.kt)("wrapper",(0,r.Z)({},f,c,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"rest-api-on-the-broker"},"REST API on the Broker"),(0,a.kt)("p",null,"Pinot can be queried via a broker endpoint as follows. This example assumes broker is running on ",(0,a.kt)("inlineCode",{parentName:"p"},"localhost:8099")),(0,a.kt)(l.Z,{block:!0,defaultValue:"Standard-SQL endpoint",urlKey:"arch",values:[{label:"Standard-SQL endpoint",value:"Standard-SQL endpoint"},{label:"PQL endpoint",value:"PQL endpoint"}],mdxType:"Tabs"},(0,a.kt)(u.Z,{value:"Standard-SQL endpoint",mdxType:"TabItem"},(0,a.kt)("p",null,"The Pinot REST API can be accessed by invoking POST operation with a JSON body containing the parameter sql to the ",(0,a.kt)("inlineCode",{parentName:"p"},"/query/sql")," endpoint on a broker."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql"},'$ curl -H "Content-Type: application/json" -X POST \\\n   -d \'{"sql":"select foo, count(*) from myTable group by foo limit 100"}\' \\\n   http://localhost:8099/query/sql\n'))),(0,a.kt)(u.Z,{value:"PQL endpoint",mdxType:"TabItem"},(0,a.kt)(i.Z,{type:"info",mdxType:"Alert"}," This endpoint is deprecated, and will soon be removed. The standard-SQL endpoint is the recommended endpoint."),(0,a.kt)("p",null,"The PQL endpoint can be accessed by invoking POST operation with a JSON body containing the parameter pql to the ",(0,a.kt)("inlineCode",{parentName:"p"},"/query")," endpoint on a broker."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql"},'$ curl -H "Content-Type: application/json" -X POST \\\n   -d \'{"pql":"select count(*) from myTable group by foo top 100"}\' \\\n   http://localhost:8099/query\n')))),(0,a.kt)("h2",{id:"query-console"},"Query Console"),(0,a.kt)("p",null,"Query Console can be used for running ad-hoc queries (checkbox available to query the PQL endpoint). The Query Console can be accessed by entering the ",(0,a.kt)("inlineCode",{parentName:"p"},"<controller host>:<controller port>")," in your browser"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"PQL-Query-Console",src:t(2277).Z})),(0,a.kt)("h3",{id:"pinot-admin"},"pinot-admin"),(0,a.kt)("p",null,"You can also query using the pinot-admin scripts. Make sure you follow instructions in Getting Pinot to get Pinot locally, and then"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'cd pinot/pinot-tools/target/pinot-tools-pkg\nbin/pinot-admin.sh PostQuery \\\n  -queryType sql \\\n  -brokerPort 8000 \\\n  -query "select count(*) from baseballStats"\n\n2020/03/04 12:46:33.459 INFO [PostQueryCommand] [main] Executing command: PostQuery -brokerHost localhost -brokerPort 8000 -queryType sql -query select count(*) from baseballStats\n2020/03/04 12:46:33.854 INFO [PostQueryCommand] [main] Result: {"resultTable":{"dataSchema":{"columnDataTypes":["LONG"],"columnNames":["count(*)"]},"rows":[[97889]]},"exceptions":[],"numServersQueried":1,"numServersResponded":1,"numSegmentsQueried":1,"numSegmentsProcessed":1,"numSegmentsMatched":1,"numConsumingSegmentsQueried":0,"numDocsScanned":97889,"numEntriesScannedInFilter":0,"numEntriesScannedPostFilter":0,"numGroupsLimitReached":false,"totalDocs":97889,"timeUsedMs":185,"segmentStatistics":[],"traceInfo":{},"minConsumingFreshnessTimeMs":0}\n')),(0,a.kt)("h2",{id:"pinot-clients"},"Pinot Clients"),(0,a.kt)("p",null,"Here's a list of the clients available to query Pinot from your application"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/docs/user-guide/clients/golang"},"Java client")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/docs/user-guide/clients/java"},"Go client")),(0,a.kt)("li",{parentName:"ul"},"Coming soon - JDBC client")))}y.isMDXComponent=!0},4184:function(e,n){var t;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],n=0;n<arguments.length;n++){var t=arguments[n];if(t){var a=typeof t;if("string"===a||"number"===a)e.push(t);else if(Array.isArray(t)){if(t.length){var i=o.apply(null,t);i&&e.push(i)}}else if("object"===a)if(t.toString===Object.prototype.toString)for(var l in t)r.call(t,l)&&t[l]&&e.push(l);else e.push(t.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(t=function(){return o}.apply(n,[]))||(e.exports=t)}()},2277:function(e,n,t){"use strict";n.Z=t.p+"assets/images/pql-query-console-9172787dd283a81158000e46310114f3.png"}}]);